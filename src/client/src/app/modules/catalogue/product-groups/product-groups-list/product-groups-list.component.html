<h3>Groups</h3>
<table class="table table-sm table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Subgroups</th>
      <th class="actions">
        <button class="btn btn-outline-secondary btn-sm" [routerLink]="['group']">
          <i class="bi-plus"></i>
        </button>
      </th>
    </tr>
  </thead>
  <tbody *ngIf="groups.state.isInProgress()">
    <tr>
      <td colspan="3">
        <app-shared-in-progress></app-shared-in-progress>
      </td>
    </tr>
  </tbody>
  <tbody *ngIf="groups.state.isError()">
    <tr>
      <td colspan="3">
        <app-shared-error></app-shared-error>
      </td>
    </tr>
  </tbody>
  <tbody *ngIf="groups.state.isReady()">
    <tr *ngFor="let group of groups.value">
      <td><a [routerLink]="['group', group.value.id]">{{group.value.name}}</a></td>
      <td>
        <div *ngFor="let sub of group.value.groups">
          <a [routerLink]="['group', sub.id]">{{sub.name}}</a>
        </div>
      </td>
      <td class="actions">
        <app-shared-error *ngIf="group.state.isError()" [message]="group.state.getMessage()"></app-shared-error>
        <button type="button"
                class="btn btn-outline-danger btn-sm"
                (click)="deleteGroup(group)"
                [disabled]="group.state.isInProgress()">
          <i class="bi-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
